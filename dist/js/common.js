var debugTimes=!1;function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function submitFormHandler(t,e,o){var a=$(t),n=a.closest(".js-popup"),i="#"!==a.attr("action")&&""!==a.attr("action")?a.attr("action"):"/ajax/";$.ajax({url:i,type:"post",data:a.serializeArray(),success:function(t){if("success"===t.status)if($("input[type=text],input[type=tel],input[type=email]",a).val(""),a.hasClass("js-rewrite"))a.html('<div class=" is-'+t.status+' js-mess">'+t.message+"</div>");else if(a.hasClass("js-success-form")){var e=document.querySelector(".popup.open"),o=document.querySelector(".js-popup-success");e.classList.remove("open"),o.classList.add("open")}else void 0!==t.data&&(t.data.title||t.data.content)&&(t.data.title&&n.find(".js-title").html(t.data.title),t.data.content&&n.find(".js-content").html(t.data.content));else a.append('<div class=" is-'+t.status+' js-mess">'+t.message+"</div>")}})}function initCompareTable(t,e){let o=$(t);if(!o[0])return!1;let a=[{breakpoint:0,settings:{columns:1,duplicate:"in"}},{breakpoint:480,settings:{columns:2,duplicate:"in"}},{breakpoint:600,settings:{columns:3,duplicate:"in"}},{breakpoint:768,settings:{columns:4,duplicate:"in"}},{breakpoint:992,settings:{columns:4,duplicate:"out"}},{breakpoint:1280,settings:{columns:5,duplicate:"out"}}];e&&(a=[{breakpoint:0,settings:{columns:1}},{breakpoint:600,settings:{columns:2}},{breakpoint:768,settings:{columns:3}},{breakpoint:992,settings:{columns:3}},{breakpoint:1280,settings:{columns:5}}]);for(let t=0;t<o.length;t++){const e=$(o[t]);e.compareTable({sort:!0,prev:'<svg width="10" height="10"><use xlink:href="'+(e.data("arrow")?e.data("arrow"):"/assets/images/sprite.svg#arrow")+'"></use></svg>',next:'<svg width="10" height="10"><use xlink:href="'+(e.data("arrow")?e.data("arrow"):"/assets/images/sprite.svg#arrow")+'"></use></svg>',folding:!0,lines:10,responsive:a})}}document.addEventListener("DOMContentLoaded",(function(t){!function(){var t=location.hash?o(location.href):location.href;function e(e){return"a"===e.tagName.toLowerCase()&&e.hash.length>0&&o(e.href)===t}function o(t){return t.slice(0,t.lastIndexOf("#"))}!function(){function t(t){t.stopPropagation(),t.preventDefault(),y(t.target.hash,{duration:800})}[].slice.call(document.querySelectorAll("a")).filter(e).forEach((function(e){e.addEventListener("click",t,!1)}))}()}();var e=function(t){var e=t.querySelector(".js-more-btn"),o=t.querySelector(".js-service-text");(t.classList.add("is-hidden"),null!==o)&&(o.scrollHeight<200&&(t.classList.add("is-button-hide"),t.classList.remove("is-hidden")));e.addEventListener("click",(function(){t.classList.toggle("is-hidden"),"развернуть"===e.innerText.toLowerCase()?e.innerText="Свернуть":e.innerText="Развернуть"}))},o=document.querySelectorAll(".js-hidden-container");if(o.length)for(var a=0;a<o.length;a+=1)e(o[a]);!function(){var t,e,o=document.querySelectorAll(".product__tab-btn"),a=document.querySelectorAll(".characteristics"),n=document.querySelector(".js-popup-title"),i=document.querySelector(".js-product-button"),s=document.getElementById("product_title"),r=document.getElementById("product_id");function c(){if(this.classList.contains("is-active")||o.forEach((function(t){t.classList.remove("is-active")})),this.classList.add("is-active"),screen.width<768){var c=this.getBoundingClientRect().top;window.scrollBy({top:c}),setTimeout((function(){window.scrollBy({top:-60})}),0)}var l;t=this.getAttribute("data-id"),e=this.getAttribute("data-text"),i.textContent=e,l=t,a.forEach((function(t){var e=t.getAttribute("id");l==e?t.classList.add("is-active"):t.classList.remove("is-active")})),s.setAttribute("value",e),r.setAttribute("value","EcoWood "+t),n.textContent="Получить предложение"==e?"Получить КП на EcoWood "+t:"Узнать цену на EcoWood "+t}o.forEach((function(t){t.addEventListener("click",c)}))}();var n=document.querySelector(".button-up");window.addEventListener("scroll",(function(t){var e=window.pageYOffset,o=document.querySelector(".header");e>=o.clientHeight+40?o.classList.add("is-fixed"):o.classList.remove("is-fixed"),(window.pageYOffset||document.documentElement.scrollTop)>700?n.classList.add("is-show"):n.classList.remove("is-show")})),document.querySelectorAll(".button-more--element").forEach((function(t){var e=t;e.addEventListener("click",(function(t){var o=this.closest(".js-parent");if(o.classList.toggle("is-active"),"показать еще"===e.innerText.toLowerCase()||"другие модели"===e.innerText.toLowerCase())e.innerText="Скрыть";else{var a=e.getAttribute("data-text-btn");e.innerText=a,"Другие модели"!==a&&window.scrollTo({top:o.offsetTop})}}))}));var i=document.querySelector("body"),s=document.querySelector(".js-burg"),r=document.querySelector(".header__nav"),c=document.querySelector(".wrapper"),l=document.querySelectorAll(".header__nav-link"),d=document.querySelector(".js-close-menu"),u=document.querySelector(".js-close-catalog"),p=document.querySelector(".catalog__dropdown"),m=document.querySelector(".catalog__btn");s.addEventListener("click",(function(){this.classList.contains("active")?(r.classList.remove("is-active"),i.classList.remove("body--opened"),c.classList.remove("overlay")):(r.classList.add("is-active"),i.classList.add("body--opened"),c.classList.add("overlay"))})),d.addEventListener("click",(function(){i.classList.remove("is-hidden"),i.classList.remove("body--opened"),c.classList.remove("overlay"),r.classList.remove("is-active")})),u.addEventListener("click",(function(){p.classList.remove("active"),m.classList.remove("active")}));for(a=0;a<l.length;a++){l[a].addEventListener("click",(function(t){var e=document.querySelector(".header__inner");r.classList.contains("is-active")&&(r.classList.remove("is-active"),s.classList.remove("active"),c.classList.remove("overlay"),i.classList.remove("is-hidden"),e.classList.remove("is-color"))}))}screen.width<=767&&document.querySelectorAll(".product__tab-item").forEach((function(t){var e=t,o=e.querySelector(".product__tab-btn").getAttribute("data-id"),a=document.getElementById(o);e.append(a)}));for(var f=new Swiper(".detail-slider-thumbs",{freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,touchRatio:0,navigation:{nextEl:".detail-slider__arrow--next",prevEl:".detail-slider__arrow--prev"},breakpoints:{320:{slidesPerView:2,spaceBetween:15},350:{slidesPerView:2},470:{slidesPerView:3,spaceBetween:35}}}),v=(new Swiper(".detail-slider-top",{spaceBetween:10,thumbs:{swiper:f}}),_toConsumableArray(document.querySelectorAll(".detail-tabs__button"))),h=_toConsumableArray(document.querySelectorAll(".detail-tabs__tab")),g=0;g<v.length;g+=1)0===g&&v[g].classList.add("detail-tabs__button_active"),v[g].addEventListener("click",(function(t){t.preventDefault();var e=t.target.getAttribute("href"),o=document.querySelector(".detail-tabs__tab_active");o.classList.remove("detail-tabs__tab_active"),o.classList.add("detail-tabs__tab_hidden");var a=document.querySelector(e);a.classList.add("detail-tabs__tab_active"),a.classList.remove("detail-tabs__tab_hidden"),document.querySelector(".detail-tabs__button_active").classList.remove("detail-tabs__button_active"),document.querySelector(".detail-tabs__button_preactive")&&document.querySelector(".detail-tabs__button_preactive").classList.remove("detail-tabs__button_preactive"),t.target.classList.add("detail-tabs__button_active"),t.target.previousElementSibling&&t.target.previousElementSibling.classList.add("detail-tabs__button_preactive")}));for(var b=0;b<h.length;b+=1)0!==b?h[b].classList.add("detail-tabs__tab_hidden"):h[b].classList.add("detail-tabs__tab_active");function y(t,e){var o,a,n=window.pageYOffset,i={duration:e.duration,offset:e.offset||0,callback:e.callback,easing:e.easing||function(t,e,o,a){return(t/=a/2)<1?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)}},s="string"==typeof t?i.offset+document.querySelector(t).getBoundingClientRect().top-126:t,r="function"==typeof i.duration?i.duration(s):i.duration;function c(t){a=t-o,window.scrollTo(0,i.easing(a,n,s,r)),a<r?requestAnimationFrame(c):(window.scrollTo(0,n+s),"function"==typeof i.callback&&i.callback())}requestAnimationFrame((function(t){o=t,c(t)}))}document.querySelectorAll(".js-popup-show");var _=document.querySelectorAll(".js-close");if(i=document.querySelector("body"),html=document.querySelector("html"),lockPadding=document.querySelectorAll(".lock-padding"),unlock=!0,timeOut=400,function(t){t((function(){t(document).on("click",".js-popup-show",(function(e){const o=this,a=this.getAttribute("data-content");var n=this.getAttribute("data-file");const i=document.querySelector(""+a),s=this.getAttribute("data-ajax"),r={};t.each(o.attributes,(function(e,a){if(/^data\-param\-(.+)$/.test(a.nodeName)){let e=a.nodeName.match(/^data\-param\-(.+)$/)[1];r[e.toUpperCase()]=t(o).data("param-"+e)}})),s?t.ajax({url:s,data:r}).done((function(e){const a=t(i).find(".js-popup-content");e.status?"success"===e.status?a.html(e.message):(a.html(e.message),console.warn(e)):a.html(e),setTimeout(()=>{t.each(o.attributes,(function(e,a){if(/^data\-autoload\-(.+)$/.test(a.nodeName)){let e=a.nodeName.match(/^data\-autoload\-(.+)$/)[1],n="PROPERTY["+e.toUpperCase()+"]",i=t('input[name="'+n+'"],textarea[name="'+n+'"]');i.length&&i.val(t(o).data("autoload-"+e))}}))},300),w(i,n)})):w(i,n),e.preventDefault()}))}))}(jQuery),_.length>0)for(let t=0;t<_.length;t++){_[t].addEventListener("click",(function(t){L(this.closest(".popup"),!0),t.preventDefault()}))}function w(t,e){if(t&&unlock){var o=document.querySelector(".popup.open");if(o?L(o,!1):function(){var t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(var e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight=t}i.style.paddingRight=t,i.classList.add("is-hidden"),n.style.opacity=0,unlock=!1,setTimeout((function(){unlock=!0}),timeOut)}(),t.classList.add("open"),e){var a=t.querySelector(".popup__content--project"),s=document.createElement("img");s.setAttribute("src",e),a.append(s)}t.addEventListener("click",(function(t){t.target.closest(".popup__content")||L(t.target.closest(".popup"),!0)}))}}function L(t,e){var o=t.getElementsByTagName("img");o.length&&setTimeout((function(){o[0].remove()}),400),unlock&&(t.classList.remove("open"),e&&(setTimeout((function(){for(var t=0;t<lockPadding.length;t++)lockPadding[t].style.paddingRight="0px";i.style.paddingRight="0px",i.classList.remove("is-hidden"),n.style.opacity=1}),timeOut),unlock=!1,setTimeout((function(){unlock=!0}),timeOut)))}})),function(t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),"NodeList"in window&&!NodeList.prototype.forEach&&(console.info("polyfill for IE11"),NodeList.prototype.forEach=function(t,e){e=e||window;for(var o=0;o<this.length;o++)t.call(e,this[o],o,this)}),t.forEach((function(t){t.hasOwnProperty("append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach((function(t){var o=t instanceof Node;e.appendChild(o?t:document.createTextNode(String(t)))})),this.appendChild(e)}})}))}([Element.prototype,Document.prototype,DocumentFragment.prototype]),$(document).ready((function(){initCompareTable(".js-table-props"),initCompareTable(".js-compare-table",!0),$(".footer__catalog-btn").on("click",(function(){$(this).toggleClass("active"),$(".footer__catalog-dropdown").stop().slideToggle()})),window.matchMedia("(min-width: 1280px)").matches?($(".catalog-wrap").on("mouseenter",(function(t){$(this).find(".catalog__btn").addClass("active"),$(".catalog__dropdown").addClass("active")})),$(".catalog-wrap").on("mouseleave",(function(t){$(this).find(".catalog__btn").removeClass("active"),$(".catalog__dropdown").removeClass("active")}))):$(".catalog__btn").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(".catalog__dropdown").toggleClass("active")}));for(var t,e,o=document.querySelectorAll(".js-catalog-item"),a=document.querySelector(".js-catalog-container"),n=function(t){if(a){var e=t.cloneNode(!0);a.append(e)}},i=0;i<o.length;i++)catalogEl=o[i],n(catalogEl);t=$(".catalog"),e=$(".header__nav"),$(".header__menu"),window.matchMedia("(max-width: 768px)").matches&&e.prepend(t),$(".header__nav-item a").on("click",(function(){$("body").hasClass("body--opened")&&$("body").removeClass("body--opened")}))}));